(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{182:function(e,a,t){e.exports=t(374)},187:function(e,a,t){},373:function(e,a,t){"use strict";t.r(a),t.d(a,"register",(function(){return r})),t.d(a,"unregister",(function(){return l}));var n=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function r(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("","/service-worker.js");n?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):o(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):o(a,e)}))}}function o(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}function l(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},374:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(8),l=t.n(o),c=(t(187),t(26)),i=t(41),s=function(){return r.a.createElement("div",null)},m=t(20),u=t(19),d=t.n(u),p=function(){return d.a.get("/api/empleados")},f=function(e){return d.a.get("/api/empleados/"+e)},E=function(e){return d.a.delete("/api/empleados/"+e)},b=function(e){return d.a.post("/api/empleados",e)},h=function(e){return d.a.post("/api/empleados/"+e._id,e)},g=function(){return d.a.get("/api/empresas")},v=function(e){return d.a.get("/api/empresas/"+e)},y=function(e){return d.a.delete("/api/empresas/"+e)},w=function(e){return d.a.post("/api/empresas",e)},k=function(e){return d.a.post("/api/empresas/"+e._id,e)},j=t(379),C=t(375),O=t(31),F=t(376),S=t(378),I=void 0,_=j.a.Title,A=function(){var e=Object(n.useState)(0),a=Object(m.a)(e,2),t=a[0],o=a[1];Object(n.useEffect)((function(){i()}));var l=[{title:"Nombre",dataIndex:"nombreCompleto",key:"nombreCompleto"},{title:"Acci\xf3n",key:"action",render:function(e,a){return r.a.createElement(C.a,{size:"middle"},r.a.createElement(O.a,{type:"primary"},r.a.createElement(c.b,{to:"/empleados/"+a._id},"Editar")),r.a.createElement(F.a,null),r.a.createElement(O.a,{type:"primary",danger:!0,onClick:function(){return s(a._id)}},"Borrar"))}}],i=function(){p().then((function(e){var a=e.data;a.forEach((function(e){return e.nombreCompleto="".concat(e.nombre," ").concat(e.apellido1," ").concat(e.apellido2)})),o(a)})).catch(console.log)},s=function(e){E(e).then((function(e){return I.loadEmpleados()})).catch(console.log)};return r.a.createElement("div",null,r.a.createElement(_,{style:{marginTop:20},level:3},"Lista de empleados"),r.a.createElement(S.a,{columns:l,dataSource:t,footer:function(){return r.a.createElement(c.b,{to:"/empleados/0"},"Crear Empleado")}}))},x=t(99),T=t(380),W=t(381),N=j.a.Title,z=function(e){var a=Object(n.useState)({nombre:"",apellido1:"",apellido2:""}),t=Object(m.a)(a,2),o=t[0],l=t[1],s=Object(i.f)();Object(n.useEffect)((function(){d()}));var u={wrapperCol:{offset:8,span:16}},d=function(){o.nombre||"0"===e.match.params.id||f(e.match.params.id).then((function(e){var a=e.data;l(a),E.setFieldsValue(a)})).catch(console.log)},p=T.a.useForm(),E=Object(m.a)(p,1)[0];return r.a.createElement("div",null,r.a.createElement(N,{style:{marginTop:20},level:4},o._id?"Editar empleado":"A\xf1adir empleado"),r.a.createElement(T.a,Object.assign({},{labelCol:{span:8},wrapperCol:{span:16}},{form:E,onFinish:function(e){var a=e.nombre,t=e.apellido1,n=e.apellido2;a&&t&&n&&(o._id?(l({nombre:a,apellido1:t,apellido2:n}),h(o).then(s.push("/empleados")).catch(console.log)):b({nombre:a,apellido1:t,apellido2:n,fechaAlta:Date.now().toString()}).then(s.push("/empleados")).catch(console.log)),console.log("Success:",{nombre:a,apellido1:t,apellido2:n})},onFinishFailed:function(e){console.log("Failed:",e)}}),r.a.createElement(T.a.Item,{label:"Nombre",name:"nombre",value:o.nombre,rules:[{required:!0,message:"Introduzca un nombre"}]},r.a.createElement(W.a,null)),r.a.createElement(T.a.Item,{label:"Apellido 1",name:"apellido1",value:o.apellido1,rules:[{required:!0,message:"Introduzca el primer apellido"}]},r.a.createElement(W.a,null)),r.a.createElement(T.a.Item,{label:"Apellido 2",name:"apellido2",value:o.apellido2,rules:[{required:!0,message:"Introduzca el segundo apellido"}]},r.a.createElement(W.a,null)),r.a.createElement(T.a.Item,u,r.a.createElement(C.a,{size:"middle"},r.a.createElement(O.a,{type:"primary",htmlType:"submit"},o._id?"Editar":"Crear"),r.a.createElement(F.a,null),r.a.createElement(O.a,{type:"primary",danger:!0,onClick:function(){o._id?E.setFieldsValue(Object(x.a)({},o)):E.resetFields()}},"Cancelar")))),r.a.createElement(c.b,{to:"/empleados"},"\u2190 Volver a Empleados"))},R=void 0,V=j.a.Title,q=function(){var e=Object(n.useState)(0),a=Object(m.a)(e,2),t=a[0],o=a[1];Object(n.useEffect)((function(){i()}));var l=[{title:"Nombre",dataIndex:"nombre",key:"nombre"},{title:"Responsable",dataIndex:"nombreResponsable",key:"nombreResponsable"},{title:"Acci\xf3n",key:"action",render:function(e,a){return r.a.createElement(C.a,{size:"middle"},r.a.createElement(O.a,{type:"primary"},r.a.createElement(c.b,{to:"/empresas/"+a._id},"Editar")),r.a.createElement(F.a,null),r.a.createElement(O.a,{type:"primary",danger:!0,onClick:function(){return s(a._id)}},"Borrar"))}}],i=function(){g().then((function(e){e.data.forEach((function(e){return e.nombreResponsable="".concat(e.responsable.nombre," ").concat(e.responsable.apellido1," ").concat(e.responsable.apellido2)})),o(e.data)})).catch((function(e){return console.log(e)}))},s=function(e){y(e).then((function(e){return R.loadEmpresas()})).catch((function(e){return console.log(e)}))};return r.a.createElement("div",null,r.a.createElement(V,{style:{marginTop:20},level:3},"Lista de empresas"),r.a.createElement(S.a,{columns:l,dataSource:t,footer:function(){return r.a.createElement(c.b,{to:"/empresas/0"},"Crear Empresa")}}))},L=t(75),B=j.a.Title,P=L.a.Option,U=function(e){var a=Object(n.useState)(0),t=Object(m.a)(a,2),o=t[0],l=t[1],s=Object(n.useState)(0),u=Object(m.a)(s,2),d=u[0],f=u[1],E=Object(i.f)();Object(n.useEffect)((function(){h()}));var b={wrapperCol:{offset:8,span:16}},h=function(){"0"!==e.match.params.id&&v(e.match.params.id).then((function(e){var a=e.data;l(a),y.setFieldsValue(a)})).catch(console.log)},g=T.a.useForm(),y=Object(m.a)(g,1)[0],j=function(){o._id?y.setFieldsValue(Object(x.a)({},o)):y.resetFields()},S=function(){if(d)return d.length?r.a.createElement(L.a,null,d.map((function(e){var a=e._id,t=e.nombre;return r.a.createElement(P,{value:a},t)}))):r.a.createElement(L.a,null,r.a.createElement(P,null,"Sin resultados"));var e=[];p().then((function(a){var t=a.data;return f(t),t?(t.map((function(a){var t=a._id,n=a.nombre;return e.push(r.a.createElement(P,{value:t},n))})),e):r.a.createElement(P,null,"Sin resultados")})).catch(console.log)};return r.a.createElement("div",null,r.a.createElement(B,{style:{marginTop:20},level:4},o._id?"Editar empresa":"A\xf1adir empresa"),r.a.createElement(T.a,Object.assign({},{labelCol:{span:8},wrapperCol:{span:16}},{form:y,onFinish:function(e){var a=e.nombre,t=e.responsable;a&&(o._id?(l({nombre:a,responsable:t}),k(o).then(E.push("/empresas")).catch(console.log)):w({nombre:a,responsable:t,fechaAlta:Date.now().toString()}).then(E.push("/empresas")).catch((function(e){return console.log(e)}))),console.log("Success:",{nombre:a,responsable:t})},initialValues:j,onFinishFailed:function(e){console.log("Failed:",e)}}),r.a.createElement(T.a.Item,{label:"Nombre",name:"nombre",rules:[{required:!0,message:"Introduzca un nombre"}]},r.a.createElement(W.a,null)),r.a.createElement(T.a.Item,{label:"Select",name:"responsable",hasFeedback:!0,rules:[{required:!0,message:"Selecciona un responsable"}]},r.a.createElement(L.a,null,S)),r.a.createElement(T.a.Item,b,r.a.createElement(C.a,{size:"middle"},r.a.createElement(O.a,{type:"primary",htmlType:"submit"},o._id?"Editar":"Crear"),r.a.createElement(F.a,null),r.a.createElement(O.a,{type:"primary",danger:!0,onClick:j},"Cancelar")))),r.a.createElement(c.b,{to:"/empresas"},"\u2190 Volver a Empresas"))},D=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"404 Page Not Found"),r.a.createElement("h1",null,r.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44")))},J=(t(372),t(377)),H=t(50),M=J.a.Header,$=J.a.Content,G=J.a.Footer,K=function(){return r.a.createElement(c.a,null,r.a.createElement(J.a,{className:"layout"},r.a.createElement(M,null,r.a.createElement("div",{className:"logo"}),r.a.createElement(H.a,{theme:"dark",mode:"horizontal"},r.a.createElement(H.a.Item,{key:"1"},r.a.createElement("a",{href:"/"},"Inicio")),r.a.createElement(H.a.Item,{key:"2"},r.a.createElement("a",{href:"/empleados"},"Empleados")),r.a.createElement(H.a.Item,{key:"3"},r.a.createElement("a",{href:"/empresas"}," Empresas")))),r.a.createElement($,{style:{padding:"0 50px"}},r.a.createElement("div",{className:"site-layout-content"},r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:s}),r.a.createElement(i.a,{exact:!0,path:"/empleados",component:A}),r.a.createElement(i.a,{exact:!0,path:"/empleados/:id",component:z}),r.a.createElement(i.a,{exact:!0,path:"/empresas",component:q}),r.a.createElement(i.a,{exact:!0,path:"/empresas/:id",component:U}),r.a.createElement(i.a,{component:D})))),r.a.createElement(G,{style:{textAlign:"center"}},"Atenci\xf3n a usuarios \xa92020 Created by Lurconis")))},Q=t(373);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(K,null)),document.getElementById("root")),Q.unregister()}},[[182,1,2]]]);
//# sourceMappingURL=main.184b2dd7.chunk.js.map