(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{194:function(e,t,n){e.exports=n(387)},199:function(e,t,n){},382:function(e,t,n){},386:function(e,t,n){"use strict";n.r(t),n.d(t,"register",(function(){return r})),n.d(t,"unregister",(function(){return o}));var a=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function r(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");a?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):l(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):l(t,e)}))}}function l(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}function o(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},387:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(6),o=n.n(l),c=(n(199),n(41)),i=n(52),s=n(17),u=n(20),m=n(38),d=n(27),p=function(e){var t=e.size,n=e.children;return r.a.createElement("div",{className:t.split(" ").map((function(e){return"col-"+e})).join(" ")},n)},h=function(e){var t=e.fluid,n=e.children;return r.a.createElement("div",{className:"container".concat(t?"-fluid":"")},n)},f=function(e){var t=e.fluid,n=e.children;return r.a.createElement("div",{className:"row".concat(t?"-fluid":"")},n)},E=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(h,{fluid:!0})}}]),n}(a.Component),b=n(12),g=n(25),v=n.n(g),y=function(){return v.a.get("/api/empleados")},k=function(e){return v.a.get("/api/empleados/"+e)},C=function(e){return v.a.delete("/api/empleados/"+e)},w=function(e){return v.a.post("/api/empleados",e)},j=function(){return v.a.get("/api/empresas")},O=function(e){return v.a.get("/api/empresas/"+e)},I=function(e){return v.a.delete("/api/empresas/"+e)},S=function(e){return v.a.post("/api/empresas",e)},A=n(391),N=n(394),F=n(389),z=n(392),W=n(390),x=n(393),q=n(397),D=n(39),B=(A.a.Column,A.a.ColumnGroup,N.a.Link),L=F.a.Content,M=z.a.Title,R=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={empleados:[],nombre:"",apellido1:"",apellido2:""},e.layout={labelCol:{span:8},wrapperCol:{span:16}},e.tailLayout={wrapperCol:{offset:8,span:16}},e.columns=[{title:"Nombre",dataIndex:"nombre",key:"nombre"},{title:"Acci\xf3n",key:"action",render:function(t,n){return r.a.createElement(W.a,{size:"middle"},r.a.createElement(N.a,null,r.a.createElement(B,{href:"/empleados/"+n._id,title:"Editar"})),r.a.createElement(N.a,{onClick:function(){return e.deleteEmpleado(n._id)}},"Borrar"))}}],e.onFinish=function(e){console.log("Success:",e)},e.onFinishFailed=function(e){console.log("Failed:",e)},e.loadEmpleados=function(){y().then((function(t){return e.setState({empleados:t.data})})).catch((function(e){return console.log(e)}))},e.deleteEmpleado=function(t){C(t).then((function(t){return e.loadEmpleados()})).catch((function(e){return console.log(e)}))},e.handleInputChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(b.a)({},a,r))},e.handleFormSubmit=function(t){t.preventDefault(),e.state.nombre&&e.state.apellido1&&e.state.apellido2&&w({nombre:e.state.nombre,apellido1:e.state.apellido1,apellido2:e.state.apellido2,fechaAlta:Date.now().toString()}).then((function(t){return e.loadEmpleados()})).catch((function(e){return console.log(e)}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.loadEmpleados()}},{key:"render",value:function(){return r.a.createElement(F.a,null,r.a.createElement(L,null,r.a.createElement(M,{level:4},"Empleados"),r.a.createElement(A.a,{columns:this.columns,dataSource:this.empleados})),r.a.createElement(L,null,r.a.createElement(M,{level:4},"Empleado"),r.a.createElement(x.a,Object.assign({},this.layout,{name:"basic",initialValues:{remember:!0},onFinish:this.onFinish,onFinishFailed:this.onFinishFailed}),r.a.createElement(x.a.Item,{label:"Nombre",name:"nombre",rules:[{required:!0,message:"Introduzca un nombre"}]},r.a.createElement(q.a,{placeholder:"Nombre (requerido)",value:this.state.nombre,onChange:this.handleInputChange})),r.a.createElement(x.a.Item,{label:"Apellido 1",name:"apellido1",rules:[{required:!0,message:"Introduzca el primer apellido"}]},r.a.createElement(q.a,{placeholder:"Apellido 1 (requerido)",value:this.state.apellido1,onChange:this.handleInputChange})),r.a.createElement(x.a.Item,{label:"Apellido 2",name:"apellido2",rules:[{required:!0,message:"Introduzca el segundo apellido"}]},r.a.createElement(q.a,{placeholder:"Apellido 2 (requerido)",value:this.state.apellido2,onChange:this.handleInputChange})),r.a.createElement(x.a.Item,this.tailLayout,r.a.createElement(D.a,{type:"primary",htmlType:"submit",disabled:!(this.state.apellido1&&this.state.apellido2),onClick:this.handleFormSubmit},"Enviar")))))}}]),n}(a.Component),_=function(e){var t=e.children;return r.a.createElement("div",{className:"jumbotron"},t)},T=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={empleado:{}},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;k(this.props.match.params.id).then((function(t){return e.setState({empleado:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(h,{fluid:!0},r.a.createElement(f,null,r.a.createElement(p,{size:"md-12"},r.a.createElement(_,null,r.a.createElement("h1",null,this.state.empleado.nombre," ",this.state.empleado.apellido1," ",this.state.empleado.apellido2)))),r.a.createElement(f,null,r.a.createElement(p,{size:"md-2"},r.a.createElement(c.b,{to:"/empleados"},"\u2190 Volver a Empleados"))))}}]),n}(a.Component),P=n(59),U=n(396),V=n(106),G=n(395),J=(n(382),function(e){var t=e.children;return r.a.createElement("div",{class:"overflow-auto"},r.a.createElement("ul",{class:"list-group"},t))}),H=function(e){return r.a.createElement("li",{className:"list-group-item"},e.children)},$=function(e){return r.a.createElement("div",{className:"form-group"},r.a.createElement("input",Object.assign({className:"form-control"},e)))},K=function(e){return r.a.createElement("button",Object.assign({},e,{style:{float:"right",marginBottom:10},className:"btn btn-success"}),e.children)},Q=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={empresas:[],empleados:[],nombre:"",responsable:""},e.loadEmpresas=function(){j().then((function(t){return e.setState({empresas:t.data})})).catch((function(e){return console.log(e)}))},e.loadEmpleados=function(){y().then((function(t){return e.setState({empleados:t.data})})).catch((function(e){return console.log(e)}))},e.deleteEmpresa=function(t){I(t).then((function(t){return e.loadEmpresas()})).catch((function(e){return console.log(e)}))},e.handleInputChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(b.a)({},a,r))},e.handleFormSubmit=function(t){t.preventDefault(),e.state.nombre&&e.state.responsable&&S({nombre:e.state.nombre,responsable:e.state.responsable,fechaAlta:Date.now().toString()}).then((function(t){return e.loadEmpresas()})).catch((function(e){return console.log(e)}))},e.menu=r.a.createElement(P.a,{onClick:e.handleMenuClick},e.state.empleados.map((function(e){return r.a.createElement(P.a.Item,{key:e._id,icon:r.a.createElement(G.a,null)},e.nombre)}))),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.loadEmpresas()}},{key:"handleButtonClick",value:function(e){U.a.info("Click on left button."),console.log("click left button",e)}},{key:"handleMenuClick",value:function(e){U.a.info("Click on menu item.")}},{key:"render",value:function(){var e=this;return r.a.createElement(h,{fluid:!0},r.a.createElement(_,null,r.a.createElement(h,{fluid:!0},r.a.createElement("h1",null,"Empresas"),this.state.empresas.length?r.a.createElement(J,null,this.state.empresas.map((function(t){return r.a.createElement(H,{key:t._id},r.a.createElement(c.b,{to:"/empresas/"+t._id},r.a.createElement("strong",null,t.nombre," ",t.responsable.nombre)),r.a.createElement(D.a,{danger:!0,onClick:function(){return e.deleteEmpresa(t._id)}}))}))):r.a.createElement("h3",null,"Sin resultados"))),r.a.createElement(_,null,r.a.createElement(h,{fluid:!0},r.a.createElement("h1",null,"Empresa"),r.a.createElement("form",null,r.a.createElement($,{value:this.state.nombre,onChange:this.handleInputChange,name:"nombre",placeholder:"Nombre (required)"}),r.a.createElement(V.a.Button,{onClick:this.handleButtonClick,overlay:this.menu},"Responsable"),r.a.createElement($,{value:this.state.responsable,onChange:this.handleInputChange,name:"responsable",placeholder:"Reponsable (required)"}),r.a.createElement(K,{disabled:!(this.state.nombre&&this.state.responsable),onClick:this.handleFormSubmit},"Guardar Empresa")))))}}]),n}(a.Component),X=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={empleado:{}},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;O(this.props.match.params.id).then((function(t){return e.setState({empresa:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(h,{fluid:!0},r.a.createElement(f,null,r.a.createElement(p,{size:"md-12"},r.a.createElement(_,null,r.a.createElement("h1",null,this.state.empresa.nombre)))),r.a.createElement(f,null,r.a.createElement(p,{size:"md-2"},r.a.createElement(c.b,{to:"/empresas"},"\u2190 Volver a Empresas"))))}}]),n}(a.Component),Y=function(){return r.a.createElement(h,{fluid:!0},r.a.createElement(f,null,r.a.createElement(p,{size:"md-12"},r.a.createElement(_,null,r.a.createElement("h1",null,"404 Page Not Found"),r.a.createElement("h1",null,r.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44"))))))},Z=(n(385),F.a.Header),ee=F.a.Content,te=F.a.Footer,ne=(N.a.Link,function(){return r.a.createElement(c.a,null,r.a.createElement(F.a,{className:"layout"},r.a.createElement(Z,null,r.a.createElement("div",{className:"logo"}),r.a.createElement(P.a,{theme:"dark",mode:"horizontal"},r.a.createElement(P.a.Item,{key:"1"},r.a.createElement("a",{href:"/"},"Inicio")),r.a.createElement(P.a.Item,{key:"2"},r.a.createElement("a",{href:"/empleados"},"Empleados")),r.a.createElement(P.a.Item,{key:"3"},r.a.createElement("a",{href:"/empresas"}," Empresas")))),r.a.createElement(ee,{style:{padding:"0 50px"}},r.a.createElement("div",{className:"site-layout-content"},r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:E}),r.a.createElement(i.a,{exact:!0,path:"/empleados",component:R}),r.a.createElement(i.a,{exact:!0,path:"/empleados/:id",component:T}),r.a.createElement(i.a,{exact:!0,path:"/empresas",component:Q}),r.a.createElement(i.a,{exact:!0,path:"/empresas/:id",component:X}),r.a.createElement(i.a,{component:Y})))),r.a.createElement(te,{style:{textAlign:"center"}},"Atenci\xf3n a usuarios \xa92020 Created by Lurconis")))}),ae=n(386);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ne,null)),document.getElementById("root")),ae.unregister()}},[[194,1,2]]]);
//# sourceMappingURL=main.c899e914.chunk.js.map